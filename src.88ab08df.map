{"version":3,"sources":["framework\\sibor.ts","index.ts"],"names":[],"mappings":"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","file":"src.88ab08df.map","sourceRoot":"..\\src","sourcesContent":["import { Config }  from \"./config/config\";\r\n\r\ninterface HTMLElementSVG extends HTMLElement {\r\n  contentDocument? : Document\r\n}\r\n\r\nexport class Sibor {\r\n  protected static _config : Config;\r\n  \r\n  public static get Config() : Config {\treturn this._config; }\r\n  public static set Config(newVal : Config) {\tthis._config = newVal;}\r\n  \r\n  protected _contentDocument : Document;  \r\n  public get ContentDocument() : Document {\treturn this._contentDocument; }\r\n\r\n  \r\n  protected _container : HTMLElementSVG;  \r\n  public get Container() : HTMLElementSVG {\treturn this._container; }\r\n\r\n  \r\n  protected _htmlContainer : HTMLElement;  \r\n  public get HTMLContainer() : HTMLElement {\treturn this._htmlContainer; }\r\n\r\n  protected _config : Config;\r\n  \r\n  public get Config() : Config {\treturn this._config; }\r\n  public set Config(newVal : Config) {\tthis._config = newVal;}\r\n\r\n  protected _el : Element;  \r\n  public get El() : Element {\treturn this._el; }\r\n\r\n  public get ElPosition() : DOMRect {\treturn this.Config.mode == \"html\" ? (this.El as any).getBoundingClientRect() : (this.El as any).getBBox(); }\r\n  \r\n  \r\n  \r\n\r\n  constructor(elQuery: string, config: Config) {\r\n    this.Config = config;\r\n    this.InitConfigWithStaticConfig();\r\n\r\n    this._container = document.getElementById(this.Config.SVG_ID);\r\n    this._contentDocument  = this.Container.contentDocument;\r\n    if(this.ContentDocument)\r\n    {\r\n      this._el = this.ContentDocument.querySelector<HTMLElement | SVGElement>(elQuery);\r\n\r\n      if(this.El)\r\n      {\r\n        if(this.ValidMode())\r\n        {\r\n          this.Render();\r\n        }\r\n      }\r\n      else\r\n      {\r\n        throw new DOMException(`Element could not be found. It seems that the element with the selector '${elQuery}' does not exist.`, \"ElementNotFound\");\r\n      }\r\n    } \r\n    else\r\n    {\r\n      throw new DOMException(`ContentDocument could not be found. It seems that the element with the id (SVG_ID) '${this.Config.SVG_ID}' does not exist.`, \"ContentDocumentNotFound\");\r\n    }\r\n  }\r\n\r\n  public InitConfigWithStaticConfig()\r\n  {\r\n    for(const key in Sibor.Config)\r\n    {\r\n      if(key && (Sibor.Config[key] || Sibor.Config[key] === false) && (!this.Config[key] || !this.Config[key] === true))\r\n      { //if static Config contains key but local Config does not\r\n        this.Config[key] = Sibor.Config[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  public InitHTMLContainer()\r\n  {\r\n    const id = \"Sibor_HTMLContainer__\" + this.Config.SVG_ID;\r\n    const foundHTMLContainer : HTMLElement = document.querySelector(`#${id}`);\r\n    if(!foundHTMLContainer)\r\n    {\r\n        this._htmlContainer = this.HtmlToElement(`\r\n        <div style='position: absolute; background: transparent; border: none; margin: 0; padding: 0; z-index: -99999; transition: all 0.3s ease-in-out;'>\r\n          <!-- This container will be align over the svg contentDocument. All overlayed items (mode = 'html') will be playced here. -->\r\n          <div id='${id}' style='position: relative; width: 100%; height: 100%;'>\r\n          </div>\r\n        </div>\r\n        `).children[0] as HTMLElement;\r\n      document.body.appendChild(this.HTMLContainer.parentElement);\r\n\r\n      window.addEventListener(\"resize\", (e) => {\r\n        this.PositionHTMLContainer();\r\n        this.DrawHTML();\r\n      });\r\n      setInterval(() => {\r\n        this.PositionHTMLContainer();\r\n      }, 2500);\r\n    }\r\n    else\r\n    {\r\n      this._htmlContainer = foundHTMLContainer;\r\n    }    \r\n    \r\n  }\r\n\r\n\r\n\r\n  public ValidMode() : boolean\r\n  {\r\n    switch (this.Config.mode) \r\n    {\r\n      case \"html\": \r\n      case \"svg\":\r\n      case \"text\":\r\n        return true;\r\n      default:\r\n        console.error(`Mode '${this.Config.mode}' not found. Please choose a valid mode. Valid modes are 'html','svg' and 'text' but you took '${this.Config.mode}'.`);\r\n        return false;\r\n    }\r\n  }\r\n\r\n\r\n  public Render()\r\n  {\r\n    \r\n    switch (this.Config.mode) \r\n    {\r\n      case \"html\": \r\n        this.DrawHTML();\r\n        break;\r\n      case \"svg\":\r\n        this.DrawSVG();\r\n        break;\r\n      case \"text\":\r\n        this.ReplaceText();\r\n        return true;\r\n      default:\r\n        console.error(`Mode '${this.Config.mode}' not found. Please choose a valid mode. Valid modes are 'html','svg' and 'text' but you took '${this.Config.mode}'.`);\r\n        return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {String} HTML representing a single element\r\n   * @return {Node}\r\n   */\r\n  protected HtmlToElement(html) : HTMLElement\r\n  {\r\n    var template = document.createElement('template');\r\n    html = html.trim(); // Never return a text node of whitespace as the result\r\n    template.innerHTML = html;\r\n    return template.content.firstChild as HTMLElement;\r\n  }\r\n\r\n  /**\r\n    * @param {String} HTML representing any number of sibling elements\r\n    * @return {NodeList} \r\n    */\r\n  protected HtmlToElements(html): NodeList \r\n  {\r\n    var template = document.createElement('template');\r\n    template.innerHTML = html;\r\n    return template.content.childNodes;\r\n  }\r\n\r\n  public PositionHTMLContainer()\r\n  {        \r\n    const absContainerPos = this.Container.getBoundingClientRect();\r\n\r\n    if(this.HTMLContainer.parentElement.style.top != `${absContainerPos.top}px`)\r\n      this.HTMLContainer.parentElement.style.top = `${absContainerPos.top}px`;\r\n    if(this.HTMLContainer.parentElement.style.left != `${absContainerPos.left}px`)\r\n      this.HTMLContainer.parentElement.style.left = `${absContainerPos.left}px`;\r\n    if(this.HTMLContainer.parentElement.style.width != `${absContainerPos.width}px`)\r\n      this.HTMLContainer.parentElement.style.width = `${absContainerPos.width}px`;\r\n    if(this.HTMLContainer.parentElement.style.height != `${absContainerPos.height}px`)\r\n      this.HTMLContainer.parentElement.style.height = `${absContainerPos.height}px`;\r\n  }\r\n\r\n  public PositionElement(el : HTMLElement | SVGElement) {      \r\n    el.id = `Sibor_${this.El.id}`;\r\n    el.style.position = \"absolute\";\r\n    el.style.zIndex = \"99999\";\r\n    el.style.top = `${this.ElPosition.top}px`;\r\n    el.style.left = `${this.ElPosition.left}px`;\r\n    el.style.border = \"1px solid red\";\r\n    el.style.maxWidth = `${this.ElPosition.width}px`;\r\n    el.style.maxHeight = `${this.ElPosition.height}px`;\r\n  }\r\n\r\n  public DrawHTML()\r\n  {\r\n    this.InitHTMLContainer();\r\n    this.PositionHTMLContainer();\r\n\r\n    \r\n\r\n    //TODO: Change this so that template can also contain an id to an template element\r\n    const htmlStr : string = this.Config.template;\r\n\r\n    const siborEl = this.HTMLContainer.querySelector(`#Sibor_${this.El.id}`) as HTMLElement;\r\n\r\n    if(!siborEl)\r\n    {      \r\n      const el : HTMLElement = this.HtmlToElement(htmlStr);\r\n      \r\n      this.PositionElement(el);\r\n\r\n      this.HTMLContainer.appendChild(el);\r\n    }\r\n    else\r\n    {\r\n      this.PositionElement(siborEl);\r\n    }\r\n  }\r\n\r\n  public DrawSVG()\r\n  {\r\n    //TODO: Change this so that template can also contain an id to an template element\r\n    const svgStr : string = this.Config.template;\r\n\r\n    if(this.El.tagName !== \"g\")\r\n    {\r\n      var xmlns = \"http://www.w3.org/2000/svg\";\r\n      \r\n\r\n      const g = document.createElementNS (xmlns, \"g\");\r\n      g.setAttributeNS(null, \"transform\", `translate(${this.ElPosition.x}, ${this.ElPosition.y})`);\r\n      g.innerHTML = this.El.outerHTML;\r\n      g.innerHTML += svgStr;\r\n\r\n      const elOld = this.El;\r\n      const elParent = this.El.parentElement;\r\n      elOld.remove();\r\n      this._el = g;\r\n      elParent.appendChild(this.El);\r\n      (this.El.firstChild as Element).setAttributeNS(null, \"x\", \"0\");\r\n      (this.El.firstChild as Element).setAttributeNS(null, \"y\", \"0\");\r\n    }\r\n    else\r\n    {\r\n      this.El.innerHTML += svgStr;\r\n    }\r\n  }\r\n\r\n\r\n  public ReplaceText()\r\n  {\r\n    let str = this.El.innerHTML;\r\n    const datasetText = (this.El as HTMLElement).dataset ? (this.El as HTMLElement).dataset.text : false;\r\n    if(datasetText)\r\n    {\r\n      str = datasetText;\r\n    }\r\n\r\n    const strMatches : string[] = str.match(/({{[a-zA-Z_$][a-zA-Z_$0-9]*}})/gi);\r\n    const strMatchesOrig : string[] = strMatches;\r\n\r\n    for(const strMatch of strMatches)\r\n    {\r\n      const key = strMatch.replace(\"{{\", \"\").replace(\"}}\", \"\");\r\n      const value = this.Config.data[key];\r\n      if(value !== undefined)\r\n      {\r\n        str = str.replace(strMatch, value.toString());\r\n      }\r\n      else\r\n      {\r\n        console.error(`The given variable '${key}' is not defined in the data object. Please make sure that you set the key value pair in the data object.`, value);\r\n      }\r\n    }\r\n    this.El.innerHTML = str;\r\n  }\r\n}","import \"./main.scss\";\r\nimport { Sibor } from \"./framework/sibor\";\r\n\r\n\r\nwindow.onload = function() {  \r\n  Sibor.Config = {\r\n    SVG_ID: \"test_SVG\"\r\n  };\r\n\r\n  const rect_top_left = new Sibor(\"#rect_top_left\", {\r\n    mode: \"html\", //html, text, svg\r\n    template: `\r\n    <div style='width: 100%; height: 100%'>\r\n      <p>\r\n        Dies ist eine Testnachricht.\r\n      </p>\r\n    </div>\r\n    `\r\n  });\r\n\r\n  const rect_bottom_right = new Sibor(\"#rect_bottom_right\", {\r\n    mode: \"svg\", //html, text, svg\r\n    template: `\r\n      <text x='10' y='20'>Hello World</text>\r\n    `\r\n  });\r\n\r\n  console.log(\"text_top_right\", rect_top_left);\r\n\r\n  const text_top_right = new Sibor(\"#text_top_right\", {\r\n    mode: \"text\",\r\n    data: {\r\n      jahre: 20,\r\n      hoehe: 180\r\n    }\r\n  })\r\n  \r\n}\r\n"]}